import{a as x}from"./data.cf941f40.js";import{t as c}from"./CompareActaCamera.f2644e7a.js";import{a as t,F as o,j as e}from"./app.9af7fae8.js";import{C as h}from"./buttons.579c71e4.js";import"./qr-scanner.min.753d1f51.js";var E=n=>t(o,{children:[e("div",{className:"mb-2 p-3 rounded-lg border bg-white",children:e("table",{cellPadding:4,children:e("tbody",{children:t("tr",{children:[e("td",{className:"font-bold",children:"ConVzla scan:"}),e("td",{colSpan:3,children:e("a",{style:{wordBreak:"break-all"},target:"_blank",href:n.url,children:n.url})})]})})})}),e("div",{className:"mb-2 p-3 rounded-lg border bg-white",children:e("table",{cellPadding:4,children:t("tbody",{children:[t("tr",{children:[e("td",{className:"font-bold",children:"Estado:"}),e("td",{children:n.estado})]}),t("tr",{children:[e("td",{className:"font-bold",children:"Municipio:"}),e("td",{children:n.municipio})]}),t("tr",{children:[e("td",{className:"font-bold",children:"Parroquia:"}),e("td",{children:n.parroquia})]}),t("tr",{children:[e("td",{className:"font-bold",children:"Centro"}),e("td",{children:n.centro})]}),t("tr",{children:[e("td",{className:"font-bold",children:"Mesa"}),e("td",{children:n.mesa})]})]})})})]}),B=n=>{const a=[{id:"maduro",name:"Nicolas Maduro"},{id:"martinez",name:"Luis Martinez"},{id:"bertucci",name:"Javier Bertucci"},{id:"brito",name:"Jose Brito"},{id:"ecarri",name:"Antonio Ecarri"},{id:"fermin",name:"Claudio Fermin"},{id:"ceballos",name:"Daniel Ceballos"},{id:"gonzalez",name:"Edmundo Gonzalez"},{id:"marquez",name:"Enrique Marques"},{id:"rausseo",name:"Benjamin Rasseo"}],l=a.find(r=>n.left[r.id]!=n.right[r.id])!=null;return t(o,{children:[e("div",{className:"mt-3 mb-5 flex justify-center",children:e("span",{className:`inline-block text-center rounded-full p-3 ${l?"bg-red-500":"bg-green-500"}`,children:e(h,{size:30,color:"white",icon:l?"cross":"tick"})})}),e("div",{className:"mb-2 p-3 rounded-lg border bg-white",children:t("table",{cellPadding:4,className:"striped",children:[e("thead",{children:t("tr",{children:[e("th",{children:c("Candidate")}),e("th",{children:c("QR")}),e("th",{children:c("ConVzla")}),e("th",{children:c("Match")})]})}),e("tbody",{children:a.map(r=>t("tr",{className:n.left[r.id]==n.right[r.id]?"":"bg-red-100",children:[e("td",{children:r.name}),e("td",{children:n.left[r.id]}),e("td",{children:n.right[r.id]}),e("td",{children:e("div",{className:"flex gap-x-2 items-center",children:n.left[r.id]==n.right[r.id]?e(o,{children:e(h,{color:"green",icon:"tick"})}):e(o,{children:e(h,{color:"red",icon:"cross-circle"})})})})]},r.id))})]})})]})},J=n=>e(o,{children:n.qrCode!=null&&e(j,{qrCode:n.qrCode})});const j=n=>{const a=n.qrCode.trim().split("!");if(a.length!=4)return t("div",{className:"text-center",children:[c("Not a valid QR")," (",a.length," != 4)"]});const l=a[1].split(",").map(d=>parseInt(d));if(l.length!=38)return t("div",{className:"text-center",children:[c("Not a valid QR")," (",l.length," != 38)"]});const r=d=>d.reduce((q,M)=>q+M,0),u=r(l.slice(0,0+13)),b=r(l.slice(13,13+6)),f=r(l.slice(19,19+1)),g=r(l.slice(20,20+4)),z=r(l.slice(24,24+6)),C=r(l.slice(30,30+1)),N=r(l.slice(31,31+2)),p=r(l.slice(33,33+3)),v=r(l.slice(36,36+1)),I=r(l.slice(37,37+1)),[s,m,k]=a[0].split("."),i=x.find(d=>parseInt(d.Centro)==parseInt(s)&&parseInt(d.Mesa)==parseInt(m));return t("div",{children:[i==null&&t("div",{children:[c("Could not find an acta center/table"),": ",s,".",m]}),i!=null&&t("div",{children:[e(E,{url:i.url,estado:i.Estado,municipio:i.Municipio,parroquia:i.Parroquia,lat:parseFloat(i.nominatim_lat),lon:parseFloat(i.nominatim_lat),centro:s,mesa:m}),e(B,{left:{maduro:u,martinez:b,bertucci:f,brito:g,ecarri:z,fermin:C,ceballos:N,gonzalez:p,marquez:v,rausseo:I},right:{maduro:parseInt(i["Nicolas Maduro"]),martinez:parseInt(i["Luis Martinez"]),bertucci:parseInt(i["Javier Bertucci"]),brito:parseInt(i["Jose Brito"]),ecarri:parseInt(i["Antonio Ecarri"]),fermin:parseInt(i["Claudio Fermin"]),ceballos:parseInt(i["Daniel Ceballos"]),gonzalez:parseInt(i["Edmundo Gonzalez"]),marquez:parseInt(i["Enrique Marques"]),rausseo:parseInt(i["Benjamin Rasseo"])}})]})]})};export{J as default};
