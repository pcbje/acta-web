import{r,j as e,a as o,F as i,R as g,_ as f}from"./app.0c0d104d.js";import{Q as m}from"./qr-scanner.min.caaa3552.js";import{B as v}from"./buttons.98761dc5.js";const a=d=>d,x=g.lazy(()=>f(()=>import("./CompareQrCodeContents.427e5059.js"),["assets/CompareQrCodeContents.427e5059.js","assets/data.cf941f40.js","assets/app.0c0d104d.js","assets/app.4fc235ee.css","assets/buttons.98761dc5.js","assets/qr-scanner.min.caaa3552.js"]));let l;var C=d=>{const[h,s]=r.exports.useState(!1),[c,p]=r.exports.useState(!1),[t,u]=r.exports.useState(localStorage.getItem("qr-code")==""?null:localStorage.getItem("qr-code"));return r.exports.useEffect(()=>{s(!1),window.location.hostname=="localhost"&&(t==null?localStorage.removeItem("qr-code"):localStorage.setItem("qr-code",t))},[t]),r.exports.useEffect(()=>{if(t==null)return m.listCameras(!0).then(S=>{l=new m(document.getElementById("video"),n=>{n.data!=null&&n.data.length>0&&(s(!0),setTimeout(()=>{u(n.data)},1e3))},{highlightScanRegion:!0,highlightCodeOutline:!0}),l.setCamera("environment"),l.start(),p(!0)}),()=>{console.log("stopping camera"),l.destroy()}},[t]),e("div",{children:o("div",{children:[t==null&&o(i,{children:[e("div",{children:!c&&e("div",{className:"w-full text-center text-xl py-8 p-3",children:a("Starting camera...")})}),o("div",{style:{display:c?"block":"none"},children:[e("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999},className:"w-full text-white text-center text-xl p-3",children:h?e(i,{children:a("Found QR code!")}):e(i,{children:a("Scan acta QR code")})}),e("video",{width:window.innerWidth,height:window.innerHeight,id:"video"})]})]}),o("div",{style:{display:t==null?"none":"block"},children:[e("div",{className:"mb-2 p-2",children:e(v,{icon:"arrow-left",text:a("Back"),onClick:()=>{u(null)}})}),e("div",{className:"p-2",children:e(r.exports.Suspense,{fallback:e("div",{children:"Loading data"}),children:e(x,{qrCode:t})})})]})]})})},b=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));export{b as C,a as t};
