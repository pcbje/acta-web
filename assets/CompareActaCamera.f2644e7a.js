import{r as t,a as r,j as e,F as d,R as b,_ as S}from"./app.9af7fae8.js";import{Q as x}from"./qr-scanner.min.753d1f51.js";import{B as h}from"./buttons.579c71e4.js";const v={"Starting camera...":"Iniciando c\xE1mara...","Scan acta QR":"Escanear el QR","View example":"Ver ejemplo","Select image":"Seleccionar imagen","Not a valid QR":"No es un QR v\xE1lido","Starting camera":"Iniciando c\xE1mara","Found QR code!":"C\xF3digo QR encontrado!","Scan acta QR code":"Escanear c\xF3digo QR del acta","Sorry, unable to find QR code":"Lo siento, no se pudo encontrar el c\xF3digo QR",of:"de"},l=n=>navigator.language.includes("es")&&v[n]!=null?v[n]:n;var w="assets/qr.9ffd312c.png",C="assets/demo.1b559bbd.gif",Q=n=>{const[c,m]=t.exports.useState(null),[o,i]=t.exports.useState(null);return r("div",{className:"p-3",children:[c!=null&&e("div",{className:"p-3 text-center",children:c}),e("div",{className:"mt-4 mb-2 flex gap-x-3 justify-center",children:e(h,{icon:e("img",{src:w,width:20}),text:l("Scan acta QR"),intent:"primary",large:!0,onClick:n.onScan})}),o!=null&&e("img",{src:o.toDataURL(),width:500}),e("div",{className:"mb-3 text-center",children:e(h,{text:l("View example"),minimal:!0,onClick:()=>n.setQr("020302013.06.1.0001!103,6,4,0,3,4,2,1,3,3,1,2,15,2,1,0,0,3,0,1,0,1,1,0,0,0,0,0,0,0,1,0,0,8,26,409,2,2!0!0")})}),r(d,{children:[r("div",{className:"my-3 p-3 bg-white border",children:["Esta es una aplicaci\xF3n para comparar actas de la elecci\xF3n presidencial venezolana. Funciona primero leyendo un c\xF3digo QR de un acta con tu c\xE1mara. Luego, encuentra el acta correspondiente cargada por ConVzla (",e("a",{target:"_blank",href:"https://resultadosconvzla.com/",children:"https://resultadosconvzla.com"}),") por centro y mesa, si est\xE1 disponible. Finalmente, comparar\xE1 los conteos en las dos actas y resaltar\xE1 cualquier discrepancia. Tambi\xE9n proporcionar\xE1 el enlace directo al acta cargada."]}),r("div",{className:"my-3 p-3 bg-white border",children:['This is an application to compare tally sheets ("actas") from the Venezuelan presidential election. It works by first reading a QR of a tally sheet with you camera. Then finds the corresponding tally uploaded by ConVzla (',e("a",{target:"_blank",href:"https://resultadosconvzla.com/",children:"https://resultadosconvzla.com"}),") on center and table, if available. Finally, it will compare the counts in the two tallys and highlight any discrepancies. It will also provide the direct link to the uploaded tally."]}),r("div",{className:"mt-6 text-center",children:["23.672 ",l("of")," 30.026 actas"]}),e("div",{className:"flex justify-center mt-6",children:e("div",{className:"w-[200px]",children:"Demo:"})}),e("div",{className:"flex justify-center",children:e("img",{src:C,className:"border border-slate-600 rounded-md"})})]})]})};const R=b.lazy(()=>S(()=>import("./CompareQrCodeContents.b9d8b971.js"),["assets/CompareQrCodeContents.b9d8b971.js","assets/data.cf941f40.js","assets/app.9af7fae8.js","assets/app.1f6a8988.css","assets/buttons.579c71e4.js","assets/qr-scanner.min.753d1f51.js"]));let s;var E=n=>{const[c,m]=t.exports.useState(!1),[o,i]=t.exports.useState(!1),[g,y]=t.exports.useState(!1),[a,u]=t.exports.useState(localStorage.getItem("qr-code")==""?null:localStorage.getItem("qr-code"));return t.exports.useEffect(()=>{m(!1),window.location.hostname=="localhost"&&(a==null?localStorage.removeItem("qr-code"):localStorage.setItem("qr-code",a))},[a]),t.exports.useEffect(()=>{if(a==null&&!!o)return x.listCameras(!0).then(f=>{s=new x(document.getElementById("video"),p=>{p.data!=null&&p.data.length>0&&(m(!0),setTimeout(()=>{u(p.data)},1500))},{highlightScanRegion:!0,highlightCodeOutline:!0}),s.setCamera("environment"),s.start(),y(!0)}),()=>{console.log("stopping camera"),s.destroy()}},[a,o]),e("div",{children:r("div",{children:[a==null&&!o&&e(Q,{onScan:()=>{i(!0)},setQr:f=>{i(!0),u(f)}}),o&&a==null&&r(d,{children:[e("div",{children:!g&&e("div",{className:"w-full text-center text-xl py-8 p-3",children:l("Starting camera...")})}),r("div",{style:{display:g?"block":"none"},children:[e("div",{style:{position:"absolute",top:c?"50%":0,left:0,backgroundColor:c?"#22c55e":"rgba(0, 0, 0, 0.5)",zIndex:999},className:"w-full text-white text-center text-xl p-3",children:c?e(d,{children:l("Found QR code!")}):e(d,{children:l("Scan acta QR code")})}),e("video",{width:window.innerWidth,height:window.innerHeight,id:"video"})]})]}),r("div",{style:{display:a==null?"none":"block"},children:[e("div",{className:"mb-2 p-2",children:e(h,{icon:"arrow-left",text:l("Back"),onClick:()=>{u(null),i(!1)}})}),e("div",{className:"p-2",children:e(t.exports.Suspense,{fallback:e("div",{children:"Loading data"}),children:e(R,{qrCode:a})})})]})]})})},k=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{k as C,l as t};
