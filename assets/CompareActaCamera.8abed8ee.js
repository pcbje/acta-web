import{a as r,j as e,r as n,F as m,R as S,_ as C}from"./app.cacf5c9b.js";import{Q as g}from"./qr-scanner.min.06d890b5.js";import{B as u}from"./buttons.e6d49ef2.js";const f={"Starting camera...":"Iniciando c\xE1mara...","Scan acta QR":"Escanear el QR",Example:"Ejemplo","Not a valid QR":"No es un QR v\xE1lido","Starting camera":"Iniciando c\xE1mara","Found QR code!":"C\xF3digo QR encontrado!","Scan acta QR code":"Escanear c\xF3digo QR del acta"},o=t=>navigator.language.includes("es")&&f[t]!=null?f[t]:t;var b="assets/qr.9ffd312c.png",y=t=>r("div",{className:"p-3",children:[r("div",{className:"mt-4 mb-7 flex gap-x-3 justify-center",children:[e(u,{icon:e("img",{src:b,width:20}),text:o("Scan acta QR"),intent:"primary",large:!0,onClick:t.onScan}),e(u,{text:o("Example"),large:!0,onClick:t.onExample})]}),e("div",{className:"font-bold",children:"Castellano:"}),e("div",{className:"my-2 p-3 bg-white border",children:"Escanea el c\xF3digo QR de un acta para compararlo con los datos subidos por ConVzla."}),e("div",{className:"mt-3 font-bold",children:"English:"}),e("div",{className:"my-2 p-3 bg-white border",children:"Scan the QR code of an acta to compare it with data uploaded by ConVzla."})]});const R=S.lazy(()=>C(()=>import("./CompareQrCodeContents.8494194b.js"),["assets/CompareQrCodeContents.8494194b.js","assets/data.cf941f40.js","assets/app.cacf5c9b.js","assets/app.38aa890b.css","assets/buttons.e6d49ef2.js","assets/qr-scanner.min.06d890b5.js"]));let c;var E=t=>{const[v,p]=n.exports.useState(!1),[l,i]=n.exports.useState(!1),[h,x]=n.exports.useState(!1),[a,d]=n.exports.useState(localStorage.getItem("qr-code")==""?null:localStorage.getItem("qr-code"));return n.exports.useEffect(()=>{p(!1),window.location.hostname=="localhost"&&(a==null?localStorage.removeItem("qr-code"):localStorage.setItem("qr-code",a))},[a]),n.exports.useEffect(()=>{if(a==null&&!!l)return g.listCameras(!0).then(Q=>{c=new g(document.getElementById("video"),s=>{s.data!=null&&s.data.length>0&&(p(!0),setTimeout(()=>{d(s.data)},1e3))},{highlightScanRegion:!0,highlightCodeOutline:!0}),c.setCamera("environment"),c.start(),x(!0)}),()=>{console.log("stopping camera"),c.destroy()}},[a,l]),e("div",{children:r("div",{children:[a==null&&!l&&e(y,{onScan:()=>{i(!0)},onExample:()=>{i(!0),d("020302013.06.1.0001!103,6,4,0,3,4,2,1,3,3,1,2,15,2,1,0,0,3,0,1,0,1,1,0,0,0,0,0,0,0,1,0,0,8,26,409,2,2!0!0")}}),l&&a==null&&r(m,{children:[e("div",{children:!h&&e("div",{className:"w-full text-center text-xl py-8 p-3",children:o("Starting camera...")})}),r("div",{style:{display:h?"block":"none"},children:[e("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999},className:"w-full text-white text-center text-xl p-3",children:v?e(m,{children:o("Found QR code!")}):e(m,{children:o("Scan acta QR code")})}),e("video",{width:window.innerWidth,height:window.innerHeight,id:"video"})]})]}),r("div",{style:{display:a==null?"none":"block"},children:[e("div",{className:"mb-2 p-2",children:e(u,{icon:"arrow-left",text:o("Back"),onClick:()=>{d(null),i(!1)}})}),e("div",{className:"p-2",children:e(n.exports.Suspense,{fallback:e("div",{children:"Loading data"}),children:e(R,{qrCode:a})})})]})]})})},I=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{I as C,o as t};
