import{a as h}from"./data.cf941f40.js";import{L as A,B as y,R as K,D as q,P as U,a as $,b as H,S as J,C as N,c as R,d as j,T as k,e as B,p as G,f as O}from"./chart.1d63fdc3.js";import{r as f,j as c,a as d}from"./app.cacf5c9b.js";const I="label";function z(a,r){typeof a=="function"?a(r):a&&(a.current=r)}function D(a,r){const o=a.options;o&&r&&Object.assign(o,r)}function v(a,r){a.labels=r}function M(a,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I;const p=[];a.datasets=r.map(s=>{const n=a.datasets.find(l=>l[o]===s[o]);return!n||!s.data||p.includes(n)?{...s}:(p.push(n),Object.assign(n,s),n)})}function F(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I;const o={labels:[],datasets:[]};return v(o,a.labels),M(o,a.datasets,r),o}function T(a,r){const{height:o=150,width:p=300,redraw:s=!1,datasetIdKey:n,type:l,data:i,options:u,plugins:b=[],fallbackContent:E,updateMode:x,...m}=a,g=f.exports.useRef(null),e=f.exports.useRef(),t=()=>{!g.current||(e.current=new N(g.current,{type:l,data:F(i,n),options:u&&{...u},plugins:b}),z(r,e.current))},C=()=>{z(r,null),e.current&&(e.current.destroy(),e.current=null)};return f.exports.useEffect(()=>{!s&&e.current&&u&&D(e.current,u)},[s,u]),f.exports.useEffect(()=>{!s&&e.current&&v(e.current.config.data,i.labels)},[s,i.labels]),f.exports.useEffect(()=>{!s&&e.current&&i.datasets&&M(e.current.config.data,i.datasets,n)},[s,i.datasets]),f.exports.useEffect(()=>{!e.current||(s?(C(),setTimeout(t)):e.current.update(x))},[s,u,i.labels,i.datasets,x]),f.exports.useEffect(()=>{!e.current||(C(),setTimeout(t))},[l]),f.exports.useEffect(()=>(t(),()=>C()),[]),c("canvas",{...Object.assign({ref:g,role:"img",height:o,width:p},m),children:E})}const w=f.exports.forwardRef(T);function S(a,r){return N.register(r),f.exports.forwardRef((o,p)=>c(w,{...Object.assign({},o,{ref:p,type:a})}))}const _=S("bar",y);N.register(y,R,j,k,B,G,O);var V=a=>{const o=["Nicolas Maduro","Edmundo Gonzalez",...["Luis Martinez","Javier Bertucci","Jose Brito","Antonio Ecarri","Claudio Fermin","Daniel Ceballos","Enrique Marques","Benjamin Rasseo"]],p=e=>o.reduce((t,C)=>t+parseInt(e[C]),0),s=e=>p(e)-parseInt(e["Nicolas Maduro"])-parseInt(e["Edmundo Gonzalez"]);let n=h.map(e=>p(e));const l=n.reduce((e,t)=>e+t,0),i=h.map(e=>e.Estado),u=h.map((e,t)=>parseInt(e["Nicolas Maduro"])).reduce((e,t)=>e+t,0),b=h.map((e,t)=>parseInt(e["Edmundo Gonzalez"])).reduce((e,t)=>e+t,0),E={labels:i,datasets:[{label:`Nicol\xE1s Maduro ${(u*100/l).toFixed(5)}%)`,data:h.map((e,t)=>parseInt(e["Nicolas Maduro"])*100/n[t]).filter((e,t)=>n[t]>0),backgroundColor:"red"},{label:`Edmundo Gonzalez (${(b*100/l).toFixed(5)}%`,data:h.map((e,t)=>parseInt(e["Edmundo Gonzalez"])*100/n[t]).filter((e,t)=>n[t]>0),backgroundColor:"blue"},{label:"Others",data:h.map((e,t)=>s(e)*100/n[t]).filter((e,t)=>n[t]>0),backgroundColor:"green"}]},x={plugins:{title:{display:!0,text:""}},responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,max:100,min:0}}},m=new Intl.NumberFormat("en-US"),g=h.map((e,t)=>s(e)).reduce((e,t)=>e+t,0);return d("div",{className:"p-4",children:[d("div",{className:"text-center text-lg mb-4 font-bold",children:[m.format(23672)," of ",m.format(30026)," (~79%) actas de escrutino,"," "]}),c(_,{data:E,options:x,height:100}),d("table",{children:[d("tr",{children:[c("td",{children:"Nicol\xE1s Maduro:"}),d("td",{className:"pl-3 font-bold",children:[m.format(u)," (",(u*100/l).toFixed(5),"%)"]})]}),d("tr",{children:[c("td",{children:"Edmundo Gonzalez:"}),d("td",{className:"pl-3 font-bold",children:[m.format(b)," (",(b*100/l).toFixed(5),"%)"]})]}),d("tr",{children:[c("td",{children:"Others:"}),d("td",{className:"pl-3 font-bold",children:[m.format(g)," (",(g*100/l).toFixed(5),"%)"]})]}),d("tr",{children:[c("td",{children:"Total:"}),c("td",{className:"pl-3 font-bold",children:m.format(l)})]}),d("tr",{children:[c("td",{children:"Data:"}),c("td",{className:"pl-3",children:c("a",{className:"underline",target:"_blank",href:"https://docs.google.com/spreadsheets/d/1sUnCoUWZVe1rIMPQqx4zHdv8u7tfO-eksplr5HljGk4/edit?usp=sharing",children:"Google Docs"})})]})]})]})};export{V as default};
